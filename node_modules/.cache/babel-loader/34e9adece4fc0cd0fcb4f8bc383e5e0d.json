{"ast":null,"code":"import _regeneratorRuntime from \"E:/React/weatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/React/weatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:/React/weatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"E:/React/weatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"E:\\\\React\\\\weatherApp\\\\src\\\\App.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport \"./styles.css\";\nimport styled from \"styled-components\";\nimport WeatherCard from \"./WeatherCard\";\nimport Input from \"./Input\";\nimport { getGeoLocation, getTemperature } from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar WeatherMain = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n  margin: 10px;\\n\"])));\n_c = WeatherMain;\nvar Title = styled.h1(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  font-family: \\\"Dancing Script\\\", cursive;\\n  position: absolute;\\n  top: 60px;\\n  font-weight: 800;\\n\"])));\n_c2 = Title;\nvar SearchInput = styled(Input)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 160px;\\n\"])));\n_c3 = SearchInput;\nvar SearchButton = styled.button(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  font-weight: bold;\\n  height: 30px;\\n  background-color: #fae3e4;\\n  padding: 0 10px;\\n  letter-spacing: 2px;\\n\"])));\n_c4 = SearchButton;\nexport default function App() {\n  _s();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputText = _useState2[0],\n      setInputText = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      weatherData = _useState4[0],\n      setWeatherData = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      long = _useState6[0],\n      setLong = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lat = _useState8[0],\n      setLat = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      latLong = _useState10[0],\n      setLatlong = _useState10[1];\n\n  var init = function init() {\n    // get long/lat of the current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (res) {\n        setLong(res.coords.longitude);\n        setLat(res.coords.latitude);\n        setLatlong(\"\".concat(lat, \",\").concat(long));\n        getTemp(latLong);\n        console.log(latLong);\n      });\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  };\n\n  useEffect(function () {\n    init();\n  }, []);\n\n  var getTemp = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(city) {\n      var _yield$getTemperature, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getTemperature(city);\n\n            case 2:\n              _yield$getTemperature = _context.sent;\n              data = _yield$getTemperature.data;\n              setWeatherData(data);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getTemp(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSearchButtonClick = function onSearchButtonClick() {\n    console.log(\"clicked!!!\", inputText);\n    getGeoLocation(inputText).then(function (res) {\n      // get long, lat of the first searched result in the array\n      var _res$data$features$0$ = _slicedToArray(res.data.features[0].center, 2),\n          lat = _res$data$features$0$[0],\n          long = _res$data$features$0$[1];\n    }).catch(function (e) {\n      console.error(e);\n    });\n    var tmp = \"\".concat(lat, \",\").concat(long);\n    setLatlong(tmp);\n    getTemp(latLong); // console.log(latLong);\n  };\n\n  var Search = /*#__PURE__*/_jsxDEV(SearchButton, {\n    onClick: onSearchButtonClick,\n    children: \"Search\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(WeatherMain, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"The Weather App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n        placeholder: \"Search a city...\",\n        value: inputText,\n        onChange: function onChange(e) {\n          setInputText(e.target.value);\n        },\n        suffix: Search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WeatherCard, {\n        weather: weatherData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"XrUg4LPW43LWdnjiqp5qdVN+yYs=\");\n\n_c5 = App;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"WeatherMain\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"SearchInput\");\n$RefreshReg$(_c4, \"SearchButton\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"sources":["E:/React/weatherApp/src/App.js"],"names":["useState","useEffect","styled","WeatherCard","Input","getGeoLocation","getTemperature","WeatherMain","div","Title","h1","SearchInput","SearchButton","button","App","inputText","setInputText","weatherData","setWeatherData","long","setLong","lat","setLat","latLong","setLatlong","init","navigator","geolocation","getCurrentPosition","res","coords","longitude","latitude","getTemp","console","log","city","data","onSearchButtonClick","then","features","center","catch","e","error","tmp","Search","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./styles.css\";\nimport styled from \"styled-components\";\nimport WeatherCard from \"./WeatherCard\";\nimport Input from \"./Input\";\nimport { getGeoLocation, getTemperature } from \"./api\";\n\nconst WeatherMain = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  margin: 10px;\n`;\n\nconst Title = styled.h1`\n  font-family: \"Dancing Script\", cursive;\n  position: absolute;\n  top: 60px;\n  font-weight: 800;\n`;\n\nconst SearchInput = styled(Input)`\n  position: absolute;\n  top: 160px;\n`;\n\nconst SearchButton = styled.button`\n  border: none;\n  outline: none;\n  cursor: pointer;\n  font-weight: bold;\n  height: 30px;\n  background-color: #fae3e4;\n  padding: 0 10px;\n  letter-spacing: 2px;\n`;\n\nexport default function App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [weatherData, setWeatherData] = useState();\n  const [long, setLong] = useState();\n  const [lat, setLat] = useState();\n  const [latLong, setLatlong] = useState(\"\");\n\n  const init = () => {\n    // get long/lat of the current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((res) => {\n        setLong(res.coords.longitude);\n        setLat(res.coords.latitude);\n        setLatlong(`${lat},${long}`);\n        getTemp(latLong);\n        console.log(latLong);\n      });\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const getTemp = async (city) => {\n    const { data } = await getTemperature(city);\n    setWeatherData(data);\n  };\n\n  const onSearchButtonClick = () => {\n    console.log(\"clicked!!!\", inputText);\n    getGeoLocation(inputText)\n      .then((res) => {\n        // get long, lat of the first searched result in the array\n        const [lat, long] = res.data.features[0].center;\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n    const tmp = `${lat},${long}`;\n    setLatlong(tmp);\n    getTemp(latLong);\n    // console.log(latLong);\n  };\n\n  const Search = (\n    <SearchButton onClick={onSearchButtonClick}>Search</SearchButton>\n  );\n\n  return (\n    <div className=\"App\">\n      <WeatherMain>\n        <Title>The Weather App</Title>\n        <SearchInput\n          placeholder=\"Search a city...\"\n          value={inputText}\n          onChange={(e) => {\n            setInputText(e.target.value);\n          }}\n          suffix={Search}\n        />\n        <WeatherCard weather={weatherData} />\n      </WeatherMain>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}